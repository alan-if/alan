#! /bin/sh
#
# Script for running tests of Alan and Arun
#

diffCase ()
{
    echo "$case : "
    if [ -x /usr/local/bin/DiffMerge ] ; then
        DiffMerge $case.expected $case.output
    else
        diff -b -c $case.expected $case.output
    fi
}

if [ $# != 0 ] ; then
  for f in ${*} ; do
    case=`basename $f .output`
    if [ "$case" != "$f" ] ; then
	diffCase
    elif [ -f $case.alan ] ; then
        diffCase
    fi
  done
else
  for f in *.output ; do
    case=`basename $f .output`
    if [ -f $case.alan -a -f $case.expected ] ; then
	diffCase
    fi
  done
fi

